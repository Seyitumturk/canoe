<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>360 Image Viewer with Zoom</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent("zoom-on-mousewheel", {
            init: function () {
                this.zoom = 1;
                this.onMouseWheel = this.onMouseWheel.bind(this);
                this.el.sceneEl.addEventListener("wheel", this.onMouseWheel);
            },

            onMouseWheel: function (event) {
                event.preventDefault();
                const delta = event.deltaY > 0 ? -1 : 1;
                this.zoom = Math.min(Math.max(this.zoom + delta * 0.1, 0.1), 10);
                this.el.setAttribute("camera", "zoom", this.zoom);
            },

            remove: function () {
                this.el.sceneEl.removeEventListener("wheel", this.onMouseWheel);
            },
        });
    </script>
</head>

<body>
    <a-scene>
        <a-sky src="kano.jpg" rotation="0 -130 0"></a-sky>
        <a-camera zoom-on-mousewheel position="0 0 0" look-controls="pointerLockEnabled: false"></a-camera>
    </a-scene>
</body>

</html>
